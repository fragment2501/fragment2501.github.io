---
layout: post
title: Lombardi Admin Training Notes 18dec2008
date: '2008-12-18T07:41:00.001-08:00'
author: Bryan
tags:
- Lombardi
modified_time: '2008-12-18T12:02:35.505-08:00'
blogger_id: tag:blogger.com,1999:blog-19111454.post-7595910619061165747
blogger_orig_url: http://www.bryansgeekspeak.com/2008/12/lombardi-admin-training-notes-18dec2008.html
---

<b>Lombardi Admin Training Notes 18dec2008</b><br><br /><b><br><br />Client install</b><br><br /><br><br />on day one, we covered being able to create a client for end users, where you can copy from the server install directory to the client machine (no install needed).&nbsp; You need to copy the full path, so if your server is installed in <i>C:\Teamworks61bsr</i> you need to make sure to create that same directory <i>c:\Teamworks61brs</i> on the target machine, then just copy both <i>ae-eclipse</i> and <i>java</i> directories and contents. You dont need any of the other data for the client to work.<br><br /><br><br />You can launch the AE in advance and customize it for your users in advance.&nbsp; When you launch the AE, if you go to <i>window-&gt;preferences-&gt;teamworks-&gt;capabilities</i> you can remove options to create processes, services, etc.&nbsp; This does not lock out the user from re-enabling these options, it only limits what they initially see.&nbsp; so, if your users only need to create specific things, you can only show those options here.<br><br /><br><br /><br><br /><b>User Attributes</b><br><br />You can create user attributes, which are basically datatypes in teamworks.&nbsp; The difference is, these datatypes are assigned to users, and you can then provide these values for users as a kind of metadata.&nbsp; You can then use these pieces of metadata for routing later in the process.&nbsp; We should be able to import the attribute list from AD.&nbsp; not sure how to do it, but the instructor says its possible.&nbsp; Here is how we do it by hand, using local teamworks users and attributes.<br><br /><div id="dnz:" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_87g87w65dk_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_87g87w65dk_b" style="width: 320px; height: 243.763px;"></a><br><br />  <br><br />  <div id="ol6l" style="padding: 1em 0pt; text-align: left;"><br />    <a href="http://docs.google.com/File?id=dcbd3xmg_89d2nx3cch_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_89d2nx3cch_b" style="width: 320px; height: 289.858px;"></a><br />  </div><br />  <div id="d8q7" style="padding: 1em 0pt; text-align: left;"><br />    <a href="http://docs.google.com/File?id=dcbd3xmg_90hh95t3wb_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_90hh95t3wb_b" style="width: 320px; height: 243.763px;"></a><br />  </div><br />  <div id="vtuf" style="padding: 1em 0pt; text-align: left;"><br />    <a href="http://docs.google.com/File?id=dcbd3xmg_91gwgw4fg6_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_91gwgw4fg6_b" style="width: 320px; height: 243.763px;"></a><br />  </div><br />  <div id="zbag" style="padding: 1em 0pt; text-align: left;"><br />    <a href="http://docs.google.com/File?id=dcbd3xmg_92s4f57cc7_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_92s4f57cc7_b" style="width: 320px; height: 243.763px;"></a><br />  </div><br />  <br><br />  <br><br />  <b>Calendars</b><br><br />  - Calendars are implemented in timer events<br><br />  - Calendars are assigned to users or user groups for use in timer events<br><br /></div><br /><div id="ju1g" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_93c982jgdb_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_93c982jgdb_b" style="width: 320px; height: 243.763px;"></a><br /></div><br />- if you check "Use business calendar" when setting up a timer event, it will look at the participants and follow the rules of the participants calendar to determine the actual duration of the timer based on their working calendar.&nbsp; For example, if a task is assigned and set to be done within 4 hours and a task is started at 10pm at night for the assigned person, if the "use business calendar" is set, the timer will not start until the time the calendar says the assigned person is available, which in this case might be 9am the next morning (for a normal business day).<br><br /><br><br /><b>Setup Calendars for Use</b><br><br />- Calendars are bound by region (you can select the proper timezone, weekend days, holidays, etc<br><br />- Calendars should always be assigned to groups rather than individual users, and the groups should be based on region.<br><br />- When you create the initial calendars, you can give process developers access to the link to "Maintain calendars" in the process server console so that they can modify work time, holidays, etc.<br><br />- Calendars are created in the AE, but assigned to groups in the process server console.<br><br /><br><br /><div id="dekr" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_94f7vr9rgg_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_94f7vr9rgg_b" style="width: 320px; height: 243.763px;"></a><br /></div><br /><div id="nfk9" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_95hscbxbcd_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_95hscbxbcd_b" style="width: 320px; height: 243.763px;"></a><br /></div><br /><div id="z62m" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_96dbh49rgd_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_96dbh49rgd_b" style="width: 320px; height: 263.126px;"></a><br /></div><br /><div id="d03i" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_97fx22n5dj_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_97fx22n5dj_b" style="width: 320px; height: 271.423px;"></a><br /></div><br /><br><br /><b>Maintain Blackout Periods</b><br><br />- From the process server console, <i>Admin tools-&gt;Event Manager-&gt;Blackout Periods</i><br><br />- Specifying a blackout period means that scheduled events will not run during that time. you can use that for scheduled system maintenance.<br><br /><br><br /><b>Customizing the Portal</b><br><br />The portal HTML is laid out using the following<br><br />- HTML for basic layout<br><br />- CSS for skinning (colors, etc)<br><br />- XML with items and constraints for displaying navigation and menu items<br><br />- jsp for rendering dynamic page content<br><br /><br><br /><b>JBoss DataSources</b><br><br />- the datasource config file is here C:\Teamworks61bsr\process-server\deploy\mssql-ds.xml (or oracle-ds.xml for oracle)<br><br />- you can make copy the entire &lt;local-tx-datasource&gt; element, change the jndi connection name and connection url.&nbsp; You'll then be able to access this datasource from code using the jndi name.<br><br />- you need to increase the min connection pool size. The teamworks recommendation is 2 times the number of expected connections. (info in the wiki)<br><br />- after you make changes and save the file, restart the process server.<br><br /><br><br /><div id="e2ad" style="padding: 1em 0pt; text-align: left;"><br />  <a href="http://docs.google.com/File?id=dcbd3xmg_98gxkrdfgm_b" target="_blank"><img src="http://docs.google.com/File?id=dcbd3xmg_98gxkrdfgm_b" style="width: 320px; height: 307.476px;"></a><br /></div><br /><br><br /><b>Log Files</b><br><br />Two general log types, process server logs and performance server logs.&nbsp; You can also access the same logs via the server console under <i>Admin tools-&gt;View TW Logs</i><br><br />- Process server logs: <i>C:\Teamworks61bsr\process-server\logs</i><br><br />- Performance server logs: <i>C:\Teamworks61bsr\performance-server\logs</i><br><br />- Important log files<br><br />&nbsp;&nbsp;&nbsp; - TW Error Log (<i>tw-error.log</i>, most any error anywhere in the java server should show here)<br><br />&nbsp;&nbsp;&nbsp; - Event Manager Log (<i>tw-eventmgr.log</i>, for event manager specific info)<br>- Logs are configured via an xml file: <i>C:\Teamworks61bsr\process-server\conf\log4j-jboss.xml</i><br>&nbsp;&nbsp;&nbsp; - Log4j is a standardized logging tool, many of the configurations should be work the same here as in Log4j<br>&nbsp;&nbsp;&nbsp; - in the file, "Limit Categories" section defines what is logged. In a dev environment, you can uncomment the debug categories.<br><div id="v-kh" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_10037frc8f3_b" target="_blank"><img style="width: 320px; height: 417.1px;" src="http://docs.google.com/File?id=dcbd3xmg_10037frc8f3_b"></a></div><br>- you can change what logs your developers have access to in the server console by modifying this file: <i>C:\Teamworks61bsr\process-server\resources\config\system\50AppServer.xml<br><div id="f2.-" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_99gpmjz5fs_b" target="_blank"><img style="width: 320px; height: 259.976px;" src="http://docs.google.com/File?id=dcbd3xmg_99gpmjz5fs_b"></a></div></i>- you can modify the jsp interface for displaying just about anything here: <i>C:\Teamworks61bsr\process-server\applications\teamworks.ear\teamworks.war\html</i>&nbsp; The actual log file viewer page in the teamworks portal is <i>C:\Teamworks61bsr\process-server\applications\teamworks.ear\teamworks.war\html\</i>cs_logwatch.jsp&nbsp; As an example, you can change the number of lines returned in the log file viewer in the jsp code as shown below:<br><div id="z7i1" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_101gtzsnzcq_b" target="_blank"><img style="width: 320px; height: 267.893px;" src="http://docs.google.com/File?id=dcbd3xmg_101gtzsnzcq_b"></a></div><br><b>Cleanup Utility</b><br>For use when the database grows large over time. Running the cleanup utility will remove no longer needed database records for comlpeted and/or orphaned process instances.<br>- Accessed via the process portal under <i>Admin Tools-&gt;Cleanup Utility</i><br><div id="dbpx" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_102d5zxw8gf_b" target="_blank"><img style="width: 320px; height: 271.423px;" src="http://docs.google.com/File?id=dcbd3xmg_102d5zxw8gf_b"></a></div><br><b>Process Monitor</b><br>this is the server console view of processes currently running on the server. Individual users running the AE can see their own processes, but here you can see all processes and statistics.<br>- in the process server console, goto <i>Admin tool -&gt; Process Monitor</i> <br>- to troubleshoot runaway processes, you should check this view, look for the most expensive process and check the number of steps and the runtime.&nbsp; If the step count is high (in the thousands or more) it is most likely in an infinate loop and needs to be halted.<br><div id="wbem" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_103k7sf5pdz_b" target="_blank"><img style="width: 320px; height: 271.423px;" src="http://docs.google.com/File?id=dcbd3xmg_103k7sf5pdz_b"></a></div><br>