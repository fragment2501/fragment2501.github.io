---
title: Lombardi Traning Notes 04dec2008
date: '2008-12-04T07:26:00.001-08:00'
tags: 
modified_time: '2008-12-04T12:56:20.722-08:00'
blogger_id: tag:blogger.com,1999:blog-19111454.post-4445805495229481972
blogger_orig_url: http://www.bryansgeekspeak.com/2008/12/lombardi-traning-notes-04dec2008.html
---

 <br /><br /> <br /> <br /> <br />Lombardi training day 4<br><br><br><b>Creating Roles/Groups<br></b><br>Group Types<br>- <i>Participant groups</i> - participant groups are assigned to lanes and also tasks to determine who has access to what.<br>- <i>lombardi groups</i> - a group of users that can then be implemented in a participant group.&nbsp; This seems to be the pure lombardi way of handling groups, if you dont have AD or LDAP<br>-<i> logical roles</i> - groups AD/LDAP groups and users into one logical role that you can then assign to a participant group for assignment to a lane or activity (routing)<br><br>Teamworks admin default url (http://&lt;host&gt;:8081/)<br><br>logical role admin:<br><div id="a3e7" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_55c5xx69fj_b" target="_blank"><img style="width: 320px; height: 218.754px;" src="http://docs.google.com/File?id=dcbd3xmg_55c5xx69fj_b"></a></div><b><br></b>lombardi group admin:<br><br><div id="dzrp" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_54hgc4dmcm_b" target="_blank"><img style="width: 320px; height: 218.754px;" src="http://docs.google.com/File?id=dcbd3xmg_54hgc4dmcm_b"></a></div><br>- You can then assign users to the lombardi group by retrieving user profiles.&nbsp; You can not assign AD groups to a lombardi group.<br><br><b>Participant Groups (PG)</b><br>- Participant groups are set in the library (in the teamworks eclipse client)<br>- In your project, you can right click on a folder and create a new participant group.&nbsp; Participant groups are then assigned to lanes to allow access to activities in a process.&nbsp; You can also change the routing assignments to participant groups as well, which gives you a way to override the default lane role assignment. You can assign only one group to a participant group, or you can assign multiple users instead.&nbsp; you cant mix and match groups and users within a participant group. (Need more info on assigning my expression)<br>- Logical groups are setup in the lombardi administrator (?) or in AD.&nbsp; You can then set that one group of groups/users to a participant group.<br><br><br><a href="http://docs.google.com/File?id=dcbd3xmg_53c2bkx9dg_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_53c2bkx9dg_b"></a><div id="c_y0" style="padding: 1em 0pt; text-align: left;"><div id="awwq" style="padding: 1em 0pt; text-align: left;">Once your PG is created, you can then assign it to one or more lanes/tasks in a process.<br><br><a href="http://docs.google.com/File?id=dcbd3xmg_52g8d2pqfr_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_52g8d2pqfr_b"></a><br><br><br><b>System Lane</b><br>- A system lane must be assigned to the system group (OOtB lombardi group)<br>- the "is system lane" checkbox must be checked to indicate this is a system lane<br>- you cant put a coach in a system lane, because the system lane does not allow user intervention.<br>- all gateways are "system" items by default, they do not need to be put in this lane.<br><br><div id="y20e" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_56ck4vdccc_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_56ck4vdccc_b"></a></div><br><b>Routing</b><br>- determines who the task is assigned to<br>- who has access to a task<br>- routing is assigned by the lane PG, or by the routing assignment on the task (the task overrides the lane)<br><br></div></div><b>Timer Events</b><br>- only available in a process pallet. <br>- you can indicate where the timer will run.<br>- implementation<br>&nbsp;&nbsp;&nbsp; - stand alone <i>after start of step</i> - means it will hold the process token the specified amount of time, then&nbsp; picks up again after the timer is done.<br>&nbsp;&nbsp;&nbsp; - attached to an activity (drag and drop onto an activity) after start of step - when an activity starts, monitors the time it takes to complete an event.&nbsp; If the timer reach<br>- the <i>after start of step</i> starts as soon as a process token hits the activity or timer, that is the start.&nbsp; Not when the user starts working on the request (user start time is called run time in lombardi.&nbsp; The token reaching the step is the start of the step in lombardi).<br>- <i>tolerance level</i> - if the timer runs out, and a tolerance level is set, the timer will then look back and see if the token has changed within the tolerance level.&nbsp; If the tolerance is set to 30 minutes, the timer will check to see if the user made a change in the database via a coach (or somehow changed the status of the token), within that 30 minute interval.&nbsp; If it finds a change, it then extends the timer by the tolerance interval (the user gets 30 more minutes to complete the task).<br>- <i>Close attached activity</i> - closes the task by killing the old process token, then creates a new process token to continue through the process diagram.&nbsp; If you dont want to kill the process (just fire off a notification/reminder email, etc) uncheck this box.&nbsp; If the timer is independent of a task and has its own token, be sure to kill its process be sure to kill its token properly.<br>- <i>Repeatable </i>- repeatable continues forever.&nbsp; If attached to a task, it will end when the task is complete.<br>- you can attach multiple timers to a task<br>- you can set a timer to use a business calendar assigned to a task.<br><br><b>Business Calendars</b><br>- business calendars work well with timers because timers will only use valid business hours specified in the calendar<br>- the buiness calendar is assigned to a PG, which is then assigned to a lane.&nbsp; A task in the lane can be set to use the calendar assigned to the lane.&nbsp; The timer then picks up that business calendar if it was set to use a business calendar.<br><br><br><b>Use a timer to set a task to urgent after a given amount of time</b><br><br>- drag a new timer activity into the coach service we want to watch.<br>- create a new activity and process flow from the timer, which is embedded in the coach, to the new task. Name the new task "escalate task to urgent".&nbsp; Drag in a new end event and process flow the escalate task to the end task.<br>- create a new private variable in the process diagram called "taskIdToEscalate" and make it a string (process id's are strings in lombardi)<br>- create a new service to imbed in the escalate task to urgent task, you can give it the same name.&nbsp; place on "modify task" event into the service and in the implementation tab,&nbsp; select "Priority" in the list, enable it and set the new priority to urgent.&nbsp; Next, create an input variable in the service called "taskId", then go back to the implement tag of the modify task element and check "use other task" and specifty tw.local.taskId as the other task id.<br>- go back to the activity in the process diagram, and under implementation map it to the service you just created.&nbsp; Map the private taskIdToEscalate to the input variable in the service.<br><div id="pcpp" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_63vn89r9df_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_63vn89r9df_b"></a></div><br><br><div id="e67_" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_58fhm9qhpk_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_58fhm9qhpk_b"></a></div><br><div id="q7tq" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_59g4f9mxf5_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_59g4f9mxf5_b"></a></div><br>(In the above screenshot, the "closed attached activity" should not be checked, because we dont want to kill the activity in process. the following screens show the process running with that box unchecked)<br><br>now that we have the activity and service for setting the priority, we need to pass the id of the process to escalate.&nbsp; From the timer event, look at the process instance and get the process task id before the timer fires off.&nbsp; To do that, go to the timer service, go to pre-post events tab, and add a new pre event.<br><br><div id="l8z3" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_60cz7qp644_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_60cz7qp644_b"></a></div><br><div id="q-nv" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_62fbpq4zs5_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_62fbpq4zs5_b"></a><br><br>You can see when we run the process that the process token pauses at the coach activity, then the timer attached spawns its own process token which then waits for as long as the timer is set for (in this example, only 1 minute).<br></div><br><div id="pcfx" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_64c3zw69cv_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_64c3zw69cv_b"></a><br><br>After that one minute, the timer token takes off into the escalate task.&nbsp; We've passed along the task id from the parent task token that started the coach service.&nbsp; That id gets passed into the escalate service, which then updates that task's priority.&nbsp; The token passes on to the end task and dies.&nbsp; The original process token still waiting at the coach continues to sit and wait for user intervention, but now with a priority of Urgent.<br></div><br><div id="waz-" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_65gqtjt5gh_b" target="_blank"><img style="width: 320px; height: 248.234px;" src="http://docs.google.com/File?id=dcbd3xmg_65gqtjt5gh_b"></a><br><br><br><b>Coach Buttons</b><br><br>- you can specify isCancel on a button to specify that its not ending the coach.&nbsp; You can then flow to other tasks from that button to do other features (such as save for later, etc)<br>- Scripts should be placed in front of the coach to catch/test variables before they are used in the coach, then also afterward to validate both input and output data.<br>- The status of the process can be changed via a modify task service item connected to a button.<br>- a good practice is to copy incoming data into a local variable, then when a cancel button is clicked, you should test to make sure the submitted data matches the data going back out.&nbsp; you may need to "reset" the variables if changes were made in the coach, since clicking the button always submits the form and saves off the bound form variables to the service (not 100% sure this true, need to test)<br><br><br><br></div><br>