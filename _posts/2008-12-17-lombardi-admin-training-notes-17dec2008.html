---
title: Lombardi Admin Training Notes 17dec2008
date: '2008-12-17T10:05:00.001-08:00'
author: Bryan
tags:
- Lombardi
modified_time: '2008-12-18T09:15:03.112-08:00'
blogger_id: tag:blogger.com,1999:blog-19111454.post-8716336207792446727
blogger_orig_url: http://www.bryansgeekspeak.com/2008/12/lombardi-admin-training-notes-17dec2008.html
---

<b>Lombardi Admin Training Notes 16dec2008<br><br>User/Role Management<br></b><br>First, we want to remove all the default user rights, create our own admin account, and assign our new user admin rights to everything (add them to all groups)<br><br>- Launch the teamworks process server console.&nbsp; Login as tw_admin. Browse to <i>teamworks admin-&gt;security-&gt;teamworks provider-&gt;maintain internal users</i><br>&nbsp;&nbsp;&nbsp; - add a new admin user for yourself (im my case "bryan" is my admin user)<i><br></i>- tw_admin and tw_webservice are used by the system.&nbsp; The other 4 default accounts could be deleted or disabled.&nbsp; We need to keep tw_admin and tw_webservice.<br>- Groups under <i>teamworks admin-&gt;security-&gt;teamworks provider-&gt;maintain groups</i><br><i></i> &nbsp;&nbsp;&nbsp; - The admin group <i>tw_admins_internal</i> grants access to the process server console to any users in this group.&nbsp; This group should not be deleted, its used internally by teamworks.<br>&nbsp;&nbsp;&nbsp; - <i>tw_portal_admins_internal </i>grants access to the portal as an administrator.<br>- under group management <i>teamworks admin-&gt;security-&gt;teamworks provider-&gt;group membership </i>Remove all default tw_* users from all the groups.&nbsp; Place your own admin user in each of these groups.<br>- Test to confirm the tw_* accounts have no access.&nbsp; Login via the authoring tool and confirm you cant see any libraries.<br><br>Even at this point, the tw_* accounts can still login to the process admin console and change their password.&nbsp; If they did this, it would break the server because those passwords are hard coded in config files.&nbsp; We can remove access to the link and page that allows changing the password to everyone not in the tw_admin group.<br><br><b>Lock down the Change Password page</b><br>- Edit&nbsp; C:\Teamworks61bsr\process-server\resources\console.xml<br>&nbsp;&nbsp;&nbsp; - you can change the value of the constraint for the "Change Password" item, in order to disable the change password link and page from the admin console.<br><br><div id="h75p" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_80dwbvc3hd_b" target="_blank"><img style="width: 320px; height: 183.351px;" src="http://docs.google.com/File?id=dcbd3xmg_80dwbvc3hd_b"></a></div><br><b>A closer look at groups and logical roles</b><br><br>- under <i>teamworks admin-&gt;User Organization-&gt;All Roles</i> you can manage the internal role hiarchy.<br>&nbsp;&nbsp;&nbsp; - A role is a group or logical role<br>&nbsp;&nbsp;&nbsp; - role naming conventions at lombardi is <i>tw_&lt;username&gt;</i> for a logical group or <i>tw_&lt;username&gt;_internal</i> for local groups<br><br>- under <i>teamworks admin-&gt;User Organization-&gt;Logical Roles</i> you can manage logical groups and membership<br>&nbsp;&nbsp;&nbsp; - you can only add groups into one logical role.<br>&nbsp;&nbsp;&nbsp; - AD groups will display in the "available roles" section of this page, so that you can directly assign AD groups to a logical group.<br>&nbsp;&nbsp;&nbsp; - <u>Logical roles can be then used in a participant group (only one group can be assigned to a single participant group) which then becomes the role assigned to a swim lane in the BPD.&nbsp; The participant group gives us the rights to act on items in a given swim lane.</u><br><br><br><br><b>To change the tw_admin password (and/or username)<br></b><br>- change the tw_admin password in the admin console via <i>teamworks admin-&gt;security-&gt;teamworks provider-&gt;maintain internal users</i><br>- shutdown the process server<br>- generate java encrypted password<br>- edit C:\Teamworks61bsr\process-server\resources\config\system\99Local.xml<br>- Change the encrypted password for tw_admin to match your newly encrypted password<br><div id="a9g4" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_81qdtmmgdk_b" target="_blank"><img style="width: 320px; height: 281.077px;" src="http://docs.google.com/File?id=dcbd3xmg_81qdtmmgdk_b"></a></div><br><div id="qj9e" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_82hg8xhftr_b" target="_blank"><img style="width: 320px; height: 248.25px;" src="http://docs.google.com/File?id=dcbd3xmg_82hg8xhftr_b"></a></div>&nbsp;&nbsp;&nbsp; - continue to update the other startup config files in the same manner. There is no need to re-encrypt the password. Just copy from the one you created above.<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; - C:\Teamworks61bsr\process-server\resources\config\system\80EventManager.xml<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; - C:\Teamworks61bsr\process-server\tools\impexp\build.xml<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; - C:\Teamworks61bsr\process-server\resources\config\system\50AppServer.xml<br>&nbsp;&nbsp;&nbsp; - to change the tw_admin user or delete it, you must replace every instance of tw_admin user in these files with another valid user (it could be a local user account or a AD user account).<br><br><b>External Provider Security Issue to be aware of</b><br>- The login.xml file needs to have an account to connect to LDAP if LDAP is locked down.&nbsp; The password and username is transmitted as clear text by default.&nbsp; How can this be encrypted?&nbsp; <br><br><b>Access Control (ACL's)</b><br>- Permissions can only be one of the following<br>&nbsp;&nbsp; &nbsp;- Full Access<br>&nbsp;&nbsp; &nbsp;- Read Only Access<br>&nbsp;&nbsp; &nbsp;- No Access<br>- Permissions can only be set on folders, not assets/elements.&nbsp; Assets are then grouped into folders.<br><br>Implementing ACL's<br>- if you create a folder or two, then create a new BPD, you can change ACL's on a folder by right clicking on it, then selecting "Access Control..."<br><div id="j6of" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_83j2jc77d6_b" target="_blank"><img style="width: 320px; height: 243.763px;" src="http://docs.google.com/File?id=dcbd3xmg_83j2jc77d6_b"></a></div>&nbsp;<div id="wmng" style="padding: 1em 0pt; text-align: left;"><a href="http://docs.google.com/File?id=dcbd3xmg_8426vkrbgc_b" target="_blank"><img style="width: 320px; height: 243.763px;" src="http://docs.google.com/File?id=dcbd3xmg_8426vkrbgc_b"></a></div>- When setting permissions, teamworks uses a strange inheritance model of, the parent has the least permissions, the children have the most permissions.&nbsp; In short, if your parent folder grants full access to tw_authors, you cant change a subfolder to give tw_authors read only access.<br>- you should make the root teamworks folder full control to tw_admins group, nobody else should have any access.<br>- The system folder should only have read only access.<br>- to set permissions on folders, you must be in the tw_admin group<br><br><b>The delete issue and ACL's</b><br>- when you delete an item, if its used by other items, it will warn you and prompt you to do a cascade delete of all dependencies.&nbsp; <br>- If you have permissions to delete all the dependencies and you click okay, you will delete all the items.&nbsp; <br>- If you dont have full access to one of the dependencies, your delete will fail if you try to do it, with a message saying you dont have access to delete one or more of the dependencies. <br><br><b>Group/Role Naming Conventions<br></b>- List of users and groups:<br>&nbsp;&nbsp; &nbsp;- Local Lombardi Group - &lt;groupname&gt;_internal_group<br>&nbsp;&nbsp; &nbsp;- external provider group (AD/LDAP) - &lt;groupname&gt;_external_group<br>&nbsp;&nbsp; &nbsp;- Logical Role - &lt;groupname&gt;_lr<br>&nbsp;&nbsp; &nbsp;- participant group - &lt;groupname&gt;_pg<br>- when you do an export, the only thing you take with you in the export is the participant group, which is mapped to a logical role (or list of users) that did not get exported. It must exist in the environment where you then later import that export.<br><br>