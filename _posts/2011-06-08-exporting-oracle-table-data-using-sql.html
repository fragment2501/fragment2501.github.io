---
title: Exporting Oracle Table Data Using SQL Developer and SQLLDR
date: '2011-06-08T17:12:00.000-07:00'
tags:
- Oracle
modified_time: '2011-06-09T11:08:46.149-07:00'
thumbnail: http://3.bp.blogspot.com/-pmrf9j82CjM/TfAJA6SlFhI/AAAAAAAAA3c/si6AogNyou8/s72-c/select.jpg
blogger_id: tag:blogger.com,1999:blog-19111454.post-6676322987020239172
blogger_orig_url: http://www.bryansgeekspeak.com/2011/06/exporting-oracle-table-data-using-sql.html
---

Following up on my last post about trying to <a href="http://www.bryansgeekspeak.com/2011/06/exporting-table-data-using-sql.html">export table data from oracle as SQL insert commands</a>, I've found a way to "Unload" query results in a format that works with large CLOB column data - the "Loader" format.<br /><br />Unfortunately, you cant import loader format data using SQL Developer ... just another odd quirk of Oracle that drives me nutty.  To import the loader results, you have to use the command line tool "sqlldr", which should be installed as part of the oracle client.<br /><br />So lets take a look at exporting the Category table data again, this time using the Loader method.<br /><br /><b> Unloading Results into Loader Format </b><br /><br />1) Launch SQL Developer and open a new worksheet connected to the database you want to use as the source.<br /><br />2) Build a SQL statement including all the columns you want to export and execute it.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-pmrf9j82CjM/TfAJA6SlFhI/AAAAAAAAA3c/si6AogNyou8/s1600/select.jpg" imageanchor="1" style=""><img border="0" height="134" width="320" src="http://3.bp.blogspot.com/-pmrf9j82CjM/TfAJA6SlFhI/AAAAAAAAA3c/si6AogNyou8/s320/select.jpg" /></a></div><br />3) Right click on the results pane and choose "Unload" from the right click menu to launch the "Unload Wizard".<br /><br />4) On the first page of the Unload Wizard, set "Format:" to "loader" and change the "Table Name:" value to match the name of the table you are exporting. The table name must be in ALL CAPS. Keep the "Save As" option set to "Single File", then change the path to point to a new empty folder on your system (this process may create more than one file).  In this case, I named the file "category.ldr". Click "Next >", Then click "Finish".<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-rylU8K3qtXk/TfAOI0OA7fI/AAAAAAAAA3s/OcB2jaU4gSE/s1600/UnloadLoader1.jpg" imageanchor="1" style=""><img border="0" height="218" width="320" src="http://2.bp.blogspot.com/-rylU8K3qtXk/TfAOI0OA7fI/AAAAAAAAA3s/OcB2jaU4gSE/s320/UnloadLoader1.jpg" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-vBViIHnK7Hk/TfAOjIc0OqI/AAAAAAAAA38/CXHq-x6fi74/s1600/UnloadLoader2.jpg" imageanchor="1" style=""><img border="0" height="218" width="320" src="http://3.bp.blogspot.com/-vBViIHnK7Hk/TfAOjIc0OqI/AAAAAAAAA38/CXHq-x6fi74/s320/UnloadLoader2.jpg" /></a></div><br />5) Browse to the path you set in step 4 and you should see the loader control file (the filename you set in step 4) and possibly a bunch of data files.  Open the control file with your favorite text editor and modify as needed.<br /><br /><div class="sidenote">By default the Unload to loader format process creates a control file with the TRUNCATE keyword.  This tells the loader to DELETE all rows before adding the loader data.  If you want to keep existing data in the table, use the APPEND keyword instead.<br /><br />See the SQLLDR documentation on <a href="http://download.oracle.com/docs/cd/B10501_01/server.920/a96652/ch05.htm#1006863">Loading Data into Nonempty Tables</a> for more info.<br /></div><br />6) Open a command prompt and change the working directory to be the path you set in step #4, so you are in the same directory as the loader files.<br /><br />7) Assuming you have the oracle client installed on your box, run the sqlldr command line utility to import the data back into oracle.  <br /><br /><div class="sidenote">NOTE: Unlike SQL Developer, the sqlldr command uses your TNS Names file to make the database connection.</div><br />The sqlldr command format is:<br /><br /><div class="code">sqlldr &lt;username&gt;/&lt;password&gt;@&lt;TNSName&gt; control=&lt;ControlFile&gt;<br /></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-x0CT-ZmYd2o/TfANs5V3ZTI/AAAAAAAAA3k/v0yZ4HiExXo/s1600/sqlldr.jpg" imageanchor="1" style=""><img border="0" height="200" width="320" src="http://1.bp.blogspot.com/-x0CT-ZmYd2o/TfANs5V3ZTI/AAAAAAAAA3k/v0yZ4HiExXo/s320/sqlldr.jpg" /></a></div><br /><b> Loader Results </b><br /><br />After loading the data back in via the sqlldr command, we can see all the data made it in tact, including the huge CLOB data column (14000 characters long!). So, even though its a little bit of a pain to go outside SQL developer for the import process, this appears to be the better approach to exporting and importing table data compared to the "insert" option in the Unload Wizard.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-9RGBOsIOh9Q/TfAPwa9yfWI/AAAAAAAAA4E/XoA67W1f8i4/s1600/LoaderResults.jpg" imageanchor="1" style=""><img border="0" height="182" width="320" src="http://2.bp.blogspot.com/-9RGBOsIOh9Q/TfAPwa9yfWI/AAAAAAAAA4E/XoA67W1f8i4/s320/LoaderResults.jpg" /></a></div>